<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Info windows</title>
    <style>
      html, body, #map-canvas {
        height: 70%;
        width: 70%;
        padding-top: 20%;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script>
      function initialize() {
        
        if(navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
          var pos = new google.maps.LatLng(position.coords.latitude,
                                         position.coords.longitude);

          alert(pos)

          var myLatlng = new google.maps.LatLng(-25.363882,131.044922);
          var myLatlng2 = new google.maps.LatLng(51.45, -0.47);

          var mapOptions = {
            zoom: 11,
            center: pos

          };

          alert: pos;

          var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

          var contentString = '<div id="content">'+
             '<div id="siteNotice">'+
             '</div>'+
             '<h1 id="firstHeading" class="firstHeading">Crime - Stabbing</h1>'+
             '<div id="bodyContent">'+
             '<p><b>Crime - Stabbing</b> Information on crime' +
             '</p>'+
             '<p>Attribution: Uluru, <a href="http://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">'+
             'http://en.wikipedia.org/w/index.php?title=Uluru</a> '+
             '(last visited June 22, 2009).</p>'+
             '</div>'+
             '</div>';

          var infowindow = new google.maps.InfoWindow({
              content: contentString
          });

          var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title: 'Uluru (Ayers Rock)'
          });

          var marker2 = new google.maps.Marker({
            position: myLatlng2,
            map: map,
            title: 'Test'
          });

          google.maps.event.addListener(marker, 'click', function() {
            infowindow.open(map,marker);
          });

          google.maps.event.addListener(marker2, 'click', function() {
            infowindow.open(map,marker2);
          });

          var infowindow = new google.maps.InfoWindow({
            map: map,
            position: pos,
            content: 'Location found using HTML5.'
          });

           map.setCenter(pos);
          }, function() {
            handleNoGeolocation(true);
          });

        } else {
          // Browser doesn't support Geolocation
          handleNoGeolocation(false);
        }
    }

    function handleNoGeolocation(errorFlag) {
      if (errorFlag) {
        var content = 'Error: The Geolocation service failed.';
      } else {
        var content = 'Error: Your browser doesn\'t support geolocation.';
      }
    }
    google.maps.event.addDomListener(window, 'load', initialize);

  </script>
  </head>
  <body>
    <div id="map-canvas" class ="innercontent"></div>
  </body>
</html>